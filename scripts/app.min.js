"use strict"; function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, _toPropertyKey(n.key), n) } } function _createClass(e, t, i) { return t && _defineProperties(e.prototype, t), i && _defineProperties(e, i), Object.defineProperty(e, "prototype", { writable: !1 }), e } function _toPropertyKey(e) { var t = _toPrimitive(e, "string"); return "symbol" === _typeof(t) ? t : String(t) } function _toPrimitive(e, t) { if ("object" !== _typeof(e) || null === e) return e; var i = e[Symbol.toPrimitive]; if (void 0 !== i) { var n = i.call(e, t || "default"); if ("object" !== _typeof(n)) return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return ("string" === t ? String : Number)(e) } var Elements = function () { function e() { _classCallCheck(this, e), this.elements = document.querySelectorAll(".rising-blocks"), this.blocks = document.querySelectorAll(".whyChooseUs__blockAn"), this.icons = document.querySelectorAll(".testimonial-blocks__block-text"), this.triangles = document.querySelectorAll(".testimonial-blocks__triangle"), this.menu = document.querySelector(".nav__hamburg"), this.menuClose = document.querySelector(".menu__close"), this.header = document.querySelector(".header"), this.items = document.querySelectorAll(".testimonial__blocks"), this.assigningEvents(), this.locationMoveMouse(), this.headerScroll() } return _createClass(e, [{ key: "checkBlocksVisibility", value: function () { this.elements.forEach(function (e) { e.getBoundingClientRect().top < window.innerHeight - 100 ? e.classList.add("rising-block-active") : e.classList.remove("rising-block-active") }) } }, { key: "assigningEvents", value: function () { var e = this; this.blocks.forEach(function (t) { t.addEventListener("click", e.blockActivation.bind(e)) }), document.addEventListener("scroll", this.headerScroll.bind(this)), this.menu.addEventListener("click", this.openMenu), this.menuClose.addEventListener("click", this.openMenu), this.items.forEach(function (t) { t.addEventListener("mouseover", e.locationMoveMouse.bind(e)) }) } }, { key: "blockActivation", value: function (e) { e.currentTarget.parentElement.children[2].classList.toggle("whyChooseUs-block__text-open") } }, { key: "locationMoveMouse", value: function () { var e = this; document.onmousemove = function (t) { t.pageX > window.innerWidth / 2 ? (e.icons.forEach(function (e) { e.classList.add("testimonial-blocks__block-text-right") }), e.triangles.forEach(function (e) { e.classList.add("testimonial-blocks__triangle-right") })) : (e.icons.forEach(function (e) { e.classList.remove("testimonial-blocks__block-text-right") }), e.triangles.forEach(function (e) { e.classList.remove("testimonial-blocks__triangle-right") })) } } }, { key: "openMenu", value: function () { var e = document.querySelector(".nav__menu"); e.classList.toggle("nav__menu-open"), e.addEventListener("click", function (e) { e.stopPropagation() }) } }, { key: "headerScroll", value: function () { window.scrollY > 0 ? this.header.classList.add("header__scroll") : this.header.classList.remove("header__scroll") } }]), e }(); window.addEventListener("load", function () { var e = new Elements, t = new Slider; e.checkBlocksVisibility(), window.addEventListener("scroll", e.checkBlocksVisibility.bind(e)), t.assigningEvents() }); var Slider = function () { function e() { _classCallCheck(this, e), this.slider = document.querySelector(".slides__hidden"), this.sliderContainer = document.querySelector(".slides__container"), this.sliderLinks = document.querySelectorAll(".slides__link"), this.slidePagination = document.querySelectorAll(".slides__pagination"), this.sliderCount = 0, this.sliderWidth, this.x1 = 0, this.x2 = 0, this.xDiff = 0, this.showSlide() } return _createClass(e, [{ key: "showSlide", value: function () { var e = this; this.sliderWidth = document.querySelector(".slides__hidden").offsetWidth, this.sliderContainer.style.width = this.sliderWidth * this.sliderLinks.length + "px", this.sliderLinks.forEach(function (t) { return t.style.width = "".concat(e.sliderWidth, "px") }), this.rollSlide() } }, { key: "rollSlide", value: function () { this.sliderContainer.style.transform = "translate3d(".concat(-this.sliderCount * this.sliderWidth, "px,0px,0px)") } }, { key: "thisSlide", value: function (e) { this.slidePagination.forEach(function (e) { return e.classList.remove("slides__paginarion-active") }), this.slidePagination[e].classList.add("slides__paginarion-active") } }, { key: "assigningEvents", value: function () { var e = this; this.slidePagination.forEach(function (t, i) { t.addEventListener("click", function () { e.sliderCount = i, e.rollSlide(), e.thisSlide(e.sliderCount) }) }), this.sliderContainer.addEventListener("touchstart", function (t) { e.x1 = t.touches[0].clientX, console.log(e.x1) }, !1), this.sliderContainer.addEventListener("touchmove", function (t) { e.x2 = t.touches[0].clientX, console.log(e.x1), console.log(e.x2), e.xDiff = e.x1 - e.x2 }, !1), this.sliderContainer.addEventListener("touchend", function () { e.xDiff > 0 && (e.sliderCount != e.sliderLinks.length - 1 ? (e.sliderCount++, e.rollSlide(), e.thisSlide(e.sliderCount)) : (e.sliderLinks[e.sliderLinks.length - 1].classList.add("slides__container-animation-left"), setTimeout(function () { e.sliderLinks[e.sliderLinks.length - 1].classList.remove("slides__container-animation-left") }, 1e3))), e.xDiff < 0 && (0 != e.sliderCount ? (e.sliderCount--, e.rollSlide(), e.thisSlide(e.sliderCount)) : (e.sliderLinks[0].classList.add("slides__container-animation-right"), setTimeout(function () { e.sliderLinks[0].classList.remove("slides__container-animation-right") }, 1e3))) }, !1) } }]), e }();